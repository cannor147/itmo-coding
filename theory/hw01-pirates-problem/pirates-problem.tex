\documentclass[fontsize=14pt]{article}

\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}

\title{pirates-problem}
\author{Ерофей Башунов}
\date{15 сентября 2022}

\begin{document}

\maketitle

\section*{Условие}

Пираты захватили судно с экипажем из $n = 2^m - 1$ человека.
Отчаявшись получить выкуп, они приняли решение избавиться от заложников.
Главарь пиратов сгенерировал $n$ независимых двоичных равномерно распределенных случайных значений $x_i$.
Заложники размещаются в одиночных камерах.
Главарь сообщает $i$-ому заложнику значения $x_j$,$j \neq i$ вместе с их номерами $j$ и предлагает угадать значение $x_i$.
Заложник может дать ответы $0$, $1$ и "не знаю".
В том случае, если все заложники дают ответ "не знаю" или любой из них оглашает неправильное значение $x_i$, всех заложников казнят.
В противном случае все заложники будут освобождены.
После оглашения условий этой игры, но до распределения заложников по камерам и выдачи значений $x_j$, заложникам разрешается встретиться и выработать стратегию действий.

Необходимо:
\begin{itemize}
    \item Предложить стратегию действий заложников, максимизирующую вероятность их спасения.
    \item Оценить кровожадность пиратов, т.е. вероятность казни заложников при использовании ими предложенной стратегии.
\end{itemize}

\section*{Решение}

\subsection*{Рассуждение}

Для начала разберёмся, что от нас вообще просят. Поскольку заложники не могут общаться друг с другом после того, как узнают числа, наша стратегия будет зависеть только от известных чисел, и больше ни от чего другого. А следовательно, для любого вектора $x$ стратегия должна выдавать либо успех, либо проигрыш. В таком случае, наша стратегия должна уметь выдавать успех для $k$ возможных вариантов вектора $x$ (где $k \leq 2^n$), причём $k$ для каждого $n$ должно быть максимальным.

Поскольку из всего вектора $x$ каждому заложнику неизвестен лишь один элемент, все возможные варианты, которые могут выбрать заложники, находятся внутри шара Хэмминга радиуса $1$ от искомого значения, причём все неверные варианты имеют расстояние Хэмминга друг с другом $2$.

Тогда давайте в нашей стратегии попытаемся исходно декомпозировать пространство всех возможных векторов $x$ в множество $s$ попарно непересекающихся шаров Хэмминга радиуса $1$. В таком случае, искомое значение вектора будет находиться либо в центре какого-то шара, либо на его границе. В первой ситуации каждый заложник будет знать, что оба допустимых для него значения $x$ будут находиться внутри конкретного шара. Во второй ситуации лишь единственный заложник будет знать, что оба допустимых для него значения $x$ будут находиться внутри конкретного шара, в то время как для остальных заложников оба возможных значения будут находиться в разных шарах.

Тогда давайте использовать такую стратегию, при которой каждый заложник в ситуации, когда оба возможных его значения $x$ находятся внутри одного шара из нашей декомпозиции, будет выбирать из этих значений то, которое не является центром этого шара. В ином случае заложник выдавать ответ не будет. Тогда у нас будет $s$ ситуаций, когда все $n$ заложников ошибутся, и $k = 2^n - s$ ситуаций, когда ровно $1$ сможет выдать верный ответ. Заметим, что при минимальном возможном значении $s$ такая стратегия является оптимальной, т.к. успешный ответ выдаёт минимально возможное количество заложников (при большем количестве вероятность угадывания будет снижаться), а проигрышный ответ выдают сразу все заложники.

\subsection*{Решение}

Теперь для полноценного конструирования стратегии осталось предъявить такой алгоритм декомпозиции пространства двоичных векторов длины $n$ на минимально возможное количество шаров Хэмминга радиуса $1$. Тогда в качестве центров этих шаров возьмём вектора без ошибок в коде Хэмминга длины $n$ (здесь нам и пригодится знание о том, что $n = 2^m - 1$).

\subsection*{Оценка}

Так как каждый шар Хэмминга из нашей декомпозиции содержит $1$ центровую точку и $n$ точек на границе (так как в векторе длины $n$ всего можно допустить $n$ ошибок), то на каждое проигрышное решение приходится $n$ выигрышных: $k = n \cdot s$.

Итоговая оценка кровожданости пиратов равна:

$$\frac{k}{k + s} = \frac{n s}{(n + 1) s} = \frac{n}{n + 1} = 1 - \frac{1}{n + 1} = 1 - \frac{1}{2^m - 1 + 1} = 1 - 2^{-m}$$

\end{document}
